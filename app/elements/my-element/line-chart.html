
<link rel="import" href="../../bower_components/polymer/polymer.html">  
<link rel="import" href="../../bower_components/iron-resizable-behavior/iron-resizable-behavior.html">
<link rel="import" href="../../bower_components/google-chart/google-chart.html">
<link rel="stylesheet" href="../../bower_components/google-chart/google-chart.css">

<dom-module id="line-chart">
    <template>
        <style>
            :host {
                display: block;
                width: 100%;
                /*height: 400px;*/
            }
            google-chart {
              width: 100%;
            }                
        </style>
        <google-chart type="line" data="{{dataArray}}" options="{{options}}">    </google-chart>
    </template>
    <script>
        Polymer({
            is: 'line-chart',
            behaviors: [
              Polymer.IronResizableBehavior
            ],
            listeners: {
              'iron-resize': '_onIronResize'
            },
            properties: {
                dataArray:{
                    type: Array,
                    value: function(){return [];},
                },
                options:{
                    type: Object,
                    value: function(){
                             return { 
                                colors: ['#E68193'],
                                legend: {position: 'none'}
                            };},
                },
            },
            attached: function(){
                this.async(this.notifyResize, 1);
            },
            get parent() {
              if (this.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                return this.parentNode.host;
              }
              return this.parentNode;
            },
            _onIronResize: function() {
                this.$$('google-chart').drawChart();
            }
        });
    </script>
</dom-module>